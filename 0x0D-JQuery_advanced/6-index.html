<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8" />
  <title>Task 6</title>

  <script src="https://code.jquery.com/jquery-3.6.0.slim.min.js"
    integrity="sha256-u7e5khyithlIdTpu22PHhENmPcRdFiHRjhAuHcs05RI=" crossorigin="anonymous"></script>
</head>

<body>
  <script type="application/javascript">
    $(function () {
      function createFamilyTree() {
        $("body").append(
          $("<table></table>").append($("<thead></thead>").append($("<tr></tr>").append($("<th></th>").text(
                  "Firstname"),
                $("<th></th>").text("Lastname")
              )

            ),
            $("<tbody></tbody>")
          )
        )
      }

      function addNewMember(firstName, lastName, position) {
        const $newRow = $("<tr></tr>");
        const $content = $(`<td>${firstName}</td><td>${lastName}</td>`);
        const $x = $("<td>(x)</td>").css("background-color", "orange");;
        $x.click(function () {
          $newRow.remove();
        })
        if (position === "before") {
          $("tbody").prepend($newRow.append($content, $x));
        } else {
          $("tbody").append($newRow.append($content, $x));
        }
      }

      function createForm() {
        const $cointainer = $("<div></div>").css({
          "display": "flex",
          "flex-direction": "row"
        });
        const $input = ("<input type='text'>");
        const $select = (
          "<select><option value='before'>Before</option><option value='after'>After</option></select>");
        const  $submit = ("<input type='submit'>");
        $("body").prepend($cointainer.append($input, $input, $select, $submit));

        $("input:nth-of-type(3)").click(function () {
          firstName = $("input").first().val();
          lastName = $("input:nth-of-type(2)").val();
          position = $("select").val();
          addNewMember(firstName, lastName, position);
        })



      }
      createFamilyTree();
      createForm();
    });
  </script>
</body>

</html>